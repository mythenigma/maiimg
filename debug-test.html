<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Test</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #f0f0f0; }
        .info { background: white; padding: 15px; margin: 10px 0; border-radius: 8px; }
        .success { background: #d4edda; border: 1px solid #c3e6cb; }
        .error { background: #f8d7da; border: 1px solid #f5c6cb; }
    </style>
</head>
<body>
    <h1>ğŸ” Cloudflare Pages è°ƒè¯•æµ‹è¯•</h1>
    
    <div class="info">
        <h3>å½“å‰é¡µé¢ä¿¡æ¯:</h3>
        <p><strong>URL:</strong> <span id="current-url"></span></p>
        <p><strong>è·¯å¾„:</strong> <span id="current-path"></span></p>
        <p><strong>æŸ¥è¯¢å‚æ•°:</strong> <span id="query-params"></span></p>
    </div>
    
    <div class="info">
        <h3>æµ‹è¯•é“¾æ¥:</h3>
        <p><a href="/pic/CF" target="_blank">ğŸ¯ å®é™…æµ‹è¯•: /pic/CF</a> (æ‚¨çš„çœŸå®æ¡ˆä¾‹)</p>
        <p><a href="/pic/TEST123" target="_blank">æµ‹è¯•: /pic/TEST123</a></p>
        <p><a href="/view.html?id=TEST456" target="_blank">ç›´æ¥è®¿é—®: /view.html?id=TEST456</a></p>
    </div>
    
    <div class="success">
        <h3>âœ… JavaScript é‡å®šå‘æ–¹æ¡ˆ:</h3>
        <p><strong>æ–°ç­–ç•¥:</strong> ä½¿ç”¨ JavaScript å¤„ç†é‡å®šå‘</p>
        <p><strong>_redirects å†…å®¹:</strong> <code>/pic/* /pic-redirect.html 200</code></p>
        <p><strong>å·¥ä½œæµç¨‹:</strong> /pic/CF â†’ pic-redirect.html â†’ JavaScript è§£æ â†’ /view.html?id=CF</p>
        <p><strong>ä¼˜åŠ¿:</strong> ä¸ä¾èµ– Cloudflare Pages çš„å‚æ•°ä¼ é€’ï¼Œæ›´å¯é </p>
    </div>
    
    <div class="info">
        <h3>é‡å®šå‘æµ‹è¯•:</h3>
        <p><a href="/pic-redirect.html" target="_blank">é‡å®šå‘é¡µé¢: /pic-redirect.html</a></p>
        <p><a href="/pic/ABC123" target="_blank">æµ‹è¯•é‡å®šå‘: /pic/ABC123</a></p>
        <p><a href="/pic/DEMO" target="_blank">æµ‹è¯•é‡å®šå‘: /pic/DEMO</a></p>
    </div>
    
    <div class="info">
        <h3>ç›´æ¥è®¿é—®æµ‹è¯•:</h3>
        <p><a href="/view.html" target="_blank">åŸå§‹æ–‡ä»¶: /view.html</a></p>
        <p><a href="/view.html?id=DIRECT" target="_blank">å¸¦å‚æ•°: /view.html?id=DIRECT</a></p>
    </div>

    <script>
        document.getElementById('current-url').textContent = window.location.href;
        document.getElementById('current-path').textContent = window.location.pathname;
        document.getElementById('query-params').textContent = window.location.search || '(æ— )';
        
        // æ£€æŸ¥æ˜¯å¦ä»é‡å®šå‘æ¥çš„
        if (document.referrer) {
            const refDiv = document.createElement('div');
            refDiv.className = 'info';
            refDiv.innerHTML = `<h3>æ¥æºé¡µé¢:</h3><p>${document.referrer}</p>`;
            document.body.appendChild(refDiv);
        }
    </script>
</body>
</html>
